// ----------------------------------------------------------------------------
// file: digin.c
// desc: digital input driver implementation
// ----------------------------------------------------------------------------

#include <pic18fregs.h>
#include "config.h"
#include "timer.h"
#include "digin.h"

// ----------------------------------------------------------------------------
// private declarations 
// ----------------------------------------------------------------------------

// ----------------------------------------------------------------------------
// public declarations
// ----------------------------------------------------------------------------

void digin_open()
{
  TRISB = 0xFF; // all pins from PORTB are inputs
}

// ----------------------------------------------------------------------------

void digin_close(void)
{
  // nothing to be done
}

// ----------------------------------------------------------------------------

unsigned int digin_state(int channel)
{
  if (PORTB && (1 << channel))
    return 1;
  else
    return 0;
}

/* EOF */
